

<body class="body" *ngIf="!isLogged">
	<div class="main">  	
		<input class="label" type="checkbox" id="chk" aria-hidden="true">

		<div class="signup">
			<form (submit)="ajouterUser()">
				<label class="label" for="chk" aria-hidden="true">S'inscrire </label>
				<input class="input" type="text" name="txt" placeholder="Prénom" required="" [(ngModel)]="newUser.prenom">
				<input class="input" type="text" name="txt" placeholder="Nom" required="" [(ngModel)]="newUser.nom">
				<input class="input" type="text" name="txt" placeholder="Numero de téléphone" required="" [(ngModel)]="newUser.phone_number">
				<input class="input" type="email" name="email" placeholder="Email" required="" [(ngModel)]="newUser.email">
				<input class="input" type="password" name="pswd" placeholder="Mot de passe" required="" [(ngModel)]="newUser.password">
				<button class="button">S'inscrire</button>
			</form>
		</div>
		<div class="login">
			<form (ngSubmit)="handleLogin()" (submit)="false">
				<label class="label" for="chk" aria-hidden="true">Connexion</label>
				<input class="input" type="email" name="email" placeholder="Email" required="" [(ngModel)]="newUser.email">
				<input class="input" type="password" name="pswd" placeholder="Mot de passe" required="" [(ngModel)]="newUser.password">
				<button class="button" type="submit">Connexion</button>
			</form>
		</div>
	</div>
</body>



<div class="min-h-screen bg-gray-100 dark:bg-gray-900" *ngIf="isLogged">
	<div class="grid grid-cols-2 gap-4">
	  <div>
		<h2 class="block text-gray-500 font-bold md:text-5xl mb-1 md:mb-0 pr-4">Informations actuelles</h2>
		<p>Nom: {{ user.nom }}</p>
		<p>Prénom: {{ user.prenom }}</p>
		<p>Numéro de téléphone: {{ user.phone_number }}</p>
		<p>Email: {{ user.email }}</p>
		<p>Mot de passe: {{ user.password }}</p>
	  </div>
	  <div>
		<div class="min-h-screen bg-gray-100 dark:bg-gray-900">
			<label class="block text-gray-500 font-bold md:text-5xl mb-1 md:mb-0 pr-4">Bienvenue {{ user?.prenom }} {{ user?.nom }}</label><br>
			<form class="w-full max-w-sm" (submit)="updateUser()">
				<div class="md:flex md:items-center mb-6">
				  <div class="md:w-1/3">
					<label class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4" for="inline-full-name">Nom:</label><br>
				  </div>
				  <div class="md:w-2/3">
					<input class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500" type="text" [(ngModel)]="newUser.nom" name="nom"><br>
				  </div>
				</div>
				<div class="md:flex md:items-center mb-6">
				  <div class="md:w-1/3">
					<label class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4" for="inline-full-name">Prénom:</label><br>
				  </div>
				  <div class="md:w-2/3">
					<input class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500" type="text" [(ngModel)]="newUser.prenom" name="prenom"><br>
				  </div>
				</div>
				<div class="md:flex md:items-center mb-6">
				  <div class="md:w-1/3">
					<label class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4" for="inline-full-name">Numéro de téléphone:</label><br>
				  </div>
				  <div class="md:w-2/3">
					<input class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500" type="text" [(ngModel)]="newUser.phone_number" name="telephone"><br>
				  </div>
				</div>
				<div class="md:flex md:items-center mb-6">
					<div class="md:w-1/3">
					  <label class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4" for="inline-full-name">Email:</label><br>
					</div>
					<div class="md:w-2/3">
					  <input class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500" type="text" [(ngModel)]="newUser.email" name="email"><br>
					</div>
				</div>
				<div class="md:flex md:items-center mb-6">
					<div class="md:w-1/3">
					  <label class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4" for="inline-full-name">Mot de passe:</label><br>
					</div>
					<div class="md:w-2/3">
					  <input class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500" type="text" [(ngModel)]="newUser.password" name="password"><br>
					</div>
				</div>
				<div class="md:flex md:items-center"> 
				  <div class="md:w-1/3"></div>
				  <div class="md:w-2/3">
					<button class="shadow bg-yellow-600 hover:bg-yellow-600 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded" type="submit">Modifier vos informations</button>
				  </div>
				</div>
			  </form>
			<div class="md:flex md:items-center text-center">
				<button class="centerbg-transparent hover:bg-red-500 text-red-700 font-semibold hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded" (click)="handleLogout()">Déconnexion</button>
			</div>
			<div>
				<input type="text" [(ngModel)]="searchTerm" (ngModelChange)="searchUser()" placeholder="Rechercher un utilisateur">
				<button (click)="searchUser()">Rechercher</button>
			  </div>
			  
			  <div *ngFor="let user of foundUsers">
				<p>{{ user.nom }} {{ user.prenom }}</p>
				<button (click)="addFriend(user)">Ajouter comme ami</button>
			  </div>
		</div>
	  </div>
	</div>
  </div>




